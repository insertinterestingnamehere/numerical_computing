\lab{Application}{Cracking Blackjack}{Cracking Blackjack}
\label{Ch:BJ}

\objective{This section teaches about how toexploite the weaknesses of a pseudorandom number generator that uses Linear Congruience}

\section*{Blackjack}

%Lab \ref{BJ}

Black Jack is a card game that involes the use of randomness. The game is simple, the dealer deals the player and himself each two cards. He flips over his first card so the player can see it. The player has to chose to take another card ("hit") or not ("stand"). If the player hits he gets another card and again has the choice to hit or stand.

The goal is to get your hand to be at or as close to 21 without going over. Face cards are worth 10 points. Aces can count either as 11 or 1. The of value other cards are equal to number on the card.

Once the player has decided to stand the dealer flips over his second card and deals himself cards until his hand value is 17 or greater. 

If the player value goes above 21 he automaticly loses. If his value is 21 and below and dealer has above 21 then the player wins. If they both have 21 or under than whose hand has the highest value, wins. If both hands have the same value, the game is a tie.

\section*{Shuffling Algorithms}

One use of Psuedorandom Number Generators (PRNGs) is to shuffle cards. The main goal of these algorithms is that the card order are random - so that no one player has advatage based on order. Often online gambling sites will post their algorithms online. The only thing they do not post is their seed values. Often the time in miliseconds is used as the seed value.

\section*{Cracking Blackjack}
For these next problems you will need three files that are provided:Black.py, BlackEasy.py, and bjHelp.py.  Black.py and BlackEasy.py are are programs that run games of Blackjack that use a Linear Congruentail Generator (LCG) to shuffle the cards. They print out 52 numbers and the argsort of those numbers is the order of the cards.The parameters for BlackEasy.py are a$=2521$, c$=13$, mod$=2^{16}$; For Black.py they are a$=25214903917$, c$=11$, mod$=2^{48}$. In order to play them python name (Black.py or BlackEasy.py) numberofgames. They are both seeded initially by the time.

bjHelp.py contains two functions that will help you "predict" the cards:
SuffleHack(n,a,c,mod,seed) gives the first n card shuffles given the parameters for a LCG. The shuffles are represented by numbers 
Hacker(Stats,['card','card','card']) Stats is the output of SuffleHack and takes a list of 3 cards (see below.) It prints all shuffles as a list of cards in Stats that have the same first three cards as the inputed list.

The trick to being able to "predict" the cards is to find the initial seed value.

Cards- A, 2-10, J, Q, or K combined with heart, diamond, club, or spade in single quotes. Examples: '6diamond', 'Kclub'



\begin{problem}
Play 10 games of BlackEasy.py and by the 5th game be able to predict the cards. You can write your own functions or use the ones in bjHelp.py. You will want to open two comand promts, one to play the game and one to use to predict the cards. 
\end{problem}

Not too hard. That is because there is only $2^{16}$ seed values. This next one you will have to look at more hands until you can find out the initial seed value.

\begin{problem}
Play 20 games of Black.py and by the 15th game be able to predict the cards.
\end{problem}



